Categories: Web & APIs
Tags: Web & APIs, Django, Coding Skills
# Building a Simple E-commerce Site with Django

## Introduction
E-commerce has become an integral part of the digital landscape. Whether you're a startup looking to sell products online or an experienced developer wanting to expand your skill set, building an e-commerce platform is a fantastic project. Django, a high-level Python web framework, is an excellent choice for this due to its "batteries included" philosophy, robust ORM, and powerful admin interface, which can significantly speed up development.

In this blog post, we'll walk through the foundational steps of building a simple e-commerce site using Django, focusing on setting up the project, defining product models, and displaying a list of products.

## Prerequisites
Before we begin, ensure you have the following installed on your system:

*   Python 3.x
*   `pip` (Python package installer)

Basic familiarity with Python and Django concepts will be helpful, but we'll explain each step in detail.

## Setting Up Your Django Project

### 1. Create a Virtual Environment
It's always a good practice to work within a virtual environment to manage project dependencies.

```bash
python3 -m venv venv
source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
```

### 2. Install Django
With your virtual environment activated, install Django.

```bash
pip install Django
```

### 3. Start a New Project and App
Now, let's create our Django project and an application specifically for handling our e-commerce products.

```bash
django-admin startproject ecommerce_project .
python manage.py startapp products
```

Next, add the `products` app to your `ecommerce_project/settings.py` file in the `INSTALLED_APPS` list:

```python
# ecommerce_project/settings.py

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'products', # Our new app
]
```

## Defining Product Models
Our e-commerce site needs a way to store product information. We'll define a `Product` model in `products/models.py`.

### Updating `products/models.py`
```python
# products/models.py
from django.db import models

class Product(models.Model):
    name = models.CharField(max_length=200)
    description = models.TextField()
    price = models.DecimalField(max_digits=10, decimal_places=2)
    stock = models.IntegerField(default=0)
    image = models.ImageField(upload_to='products/', blank=True, null=True)
    available = models.BooleanField(default=True)
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

    class Meta:
        ordering = ('name',)

    def __str__(self):
        return self.name
```
Here's a quick breakdown of the fields:
*   `name`: The name of the product.
*   `description`: A longer text field for product details.
*   `price`: A decimal field for currency.
*   `stock`: An integer to track inventory.
*   `image`: For product images. (Remember to configure `MEDIA_ROOT` and `MEDIA_URL` in `settings.py` for this to work properly in a real setup).
*   `available`: A boolean to indicate if the product is available for purchase.
*   `created_at`, `updated_at`: Timestamps for tracking.

### Running Migrations
After defining the model, we need to create the corresponding database tables.

```bash
python manage.py makemigrations products
python manage.py migrate
```

## Setting Up the Admin Interface
Django's admin interface is fantastic for managing your site's data. Let's register our `Product` model so we can easily add and edit products.

### Registering Models
```python
# products/admin.py
from django.contrib import admin
from .models import Product

admin.site.register(Product)
```

### Creating a Superuser
To access the admin panel, you'll need a superuser account.

```bash
python manage.py createsuperuser
```
Follow the prompts to create your username, email, and password.

Now, run the development server and navigate to `http://127.0.0.1:8000/admin/`.
```bash
python manage.py runserver
```
Log in with your superuser credentials. You should see "Products" listed, allowing you to add new products.

## Displaying Products
Let's create a view, define a URL, and design a simple template to display our products.

### Creating a View
```python
# products/views.py
from django.shortcuts import render
from .models import Product

def product_list(request):
    products = Product.objects.filter(available=True)
    return render(request, 'products/product_list.html', {'products': products})
```

### Defining URLs
First, create `products/urls.py`:
```python
# products/urls.py
from django.urls import path
from . import views

app_name = 'products'

urlpatterns = [
    path('', views.product_list, name='product_list'),
]
```
Then, include these URLs in your main `ecommerce_project/urls.py`:
```python
# ecommerce_project/urls.py
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('products.urls')), # Include our product URLs
]
```

### Creating a Template
Create a directory structure `products/templates/products/` and inside it, create `product_list.html`:

```html
<!-- products/templates/products/product_list.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Products</title>
    <style>
        body { font-family: sans-serif; margin: 20px; }
        .product-container { display: flex; flex-wrap: wrap; gap: 20px; }
        .product-card { border: 1px solid #ccc; padding: 15px; border-radius: 8px; width: 250px; }
        .product-card img { max-width: 100%; height: auto; border-radius: 4px; margin-bottom: 10px; }
        .product-card h3 { margin-top: 0; }
        .product-card .price { font-weight: bold; color: green; }
    </style>
</head>
<body>
    <h1>Available Products</h1>
    <div class="product-container">
        {% for product in products %}
            <div class="product-card">
                {% if product.image %}
                    <!-- For production, configure MEDIA_URL and MEDIA_ROOT in settings.py -->
                    <!-- For simplicity, this assumes static files are configured or no image is shown -->
                    <!-- <img src="{{ product.image.url }}" alt="{{ product.name }}"> -->
                {% endif %}
                <h3>{{ product.name }}</h3>
                <p>{{ product.description|truncatechars:100 }}</p>
                <p class="price">${{ product.price }}</p>
                {% if product.stock > 0 %}
                    <p>In Stock: {{ product.stock }}</p>
                    <button>Add to Cart</button>
                {% else %}
                    <p style="color: red;">Out of Stock</p>
                {% endif %}
            </div>
        {% empty %}
            <p>No products available yet.</p>
        {% endfor %}
    </div>
</body>
</html>
```
Now, if you visit `http://127.0.0.1:8000/`, you should see a list of products you added via the admin panel!

## Conclusion
You've successfully set up a basic Django project for an e-commerce site, defined a product model, populated it via the admin interface, and displayed a list of products. This forms the backbone of any online store.

From here, you can expand by adding:
*   A shopping cart system.
*   User authentication and profiles.
*   Order processing and payment gateway integration.
*   Search functionality and product categories.

Django's flexibility and comprehensive features make it an ideal framework for scaling this simple setup into a full-fledged e-commerce platform. Happy coding!

## Excerpt
Kickstart your e-commerce journey with Django! This guide covers building a simple online store, from project setup and defining product models to displaying items on a webpage. Learn to leverage Django's powerful features like its ORM and admin interface to quickly get your product listings online. It's an excellent starting point for anyone looking to develop web applications and expand their coding skills.